<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alice Knowledge Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://i.imgur.com/8Qe8Z6j.png" alt="Alice Logo" class="brand-img">
                <!-- Thay bằng placeholder nếu cần -->
                <h2 class="brand-name">Alice AI</h2>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-tab="dashboard"><i class="fas fa-tachometer-alt"></i>
                    Dashboard</a>
                <a href="#" class="nav-item" data-tab="knowledge"><i class="fas fa-book"></i> Tri Thức (RAG)</a>
                <a href="#" class="nav-item" data-tab="conversations"><i class="fas fa-comments"></i> Cuộc Hội Thoại</a>
                <a href="#" class="nav-item" data-tab="settings"><i class="fas fa-cog"></i> Cài Đặt Bot</a>
                <a href="#" class="nav-item" data-tab="logs"><i class="fas fa-terminal"></i> Logs</a>
            </nav>
            <div class="sidebar-footer">
                <p>VibeCity RP v1.0</p>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-wrapper">
            <header class="top-bar">
                <div class="top-bar-left">
                    <span id="page-title">Dashboard</span>
                </div>
                <div class="top-bar-right">
                    <div class="user-info">
                        <span class="status-indicator online"></span>
                        <span class="user-name">Alice System</span>
                    </div>
                </div>
            </header>

            <section class="content-container">
                <!-- Tab: Dashboard -->
                <div id="tab-dashboard" class="tab-content active">
                    <div class="stats-row">
                        <div class="mini-card bot-status">
                            <div class="mini-card-icon"><i class="fab fa-discord"></i></div>
                            <div class="mini-card-info">
                                <small>Bot Status</small>
                                <strong class="text-success">ONLINE</strong>
                            </div>
                        </div>
                        <div class="mini-card db-status">
                            <div class="mini-card-icon"><i class="fas fa-hdd"></i></div>
                            <div class="mini-card-info">
                                <small>Vector DB</small>
                                <strong class="text-primary">QDRANT CLOUD</strong>
                            </div>
                        </div>
                        <div class="mini-card ai-status">
                            <div class="mini-card-icon"><i class="fas fa-brain"></i></div>
                            <div class="mini-card-info">
                                <small>AI Engine</small>
                                <strong class="text-info">GEMINI 1.5</strong>
                            </div>
                        </div>
                    </div>

                    <div class="tx-card">
                        <div class="tx-card-header">Welcome to Alice Management</div>
                        <div class="tx-card-body">
                            <p>Chào mừng bạn đến với hệ thống quản trị Alice AI. Tại đây bạn có thể quản lý tri thức,
                                cấu hình bot và theo dõi hoạt động của hệ thống.</p>
                        </div>
                    </div>
                </div>

                <!-- Tab: Knowledge -->
                <div id="tab-knowledge" class="tab-content">
                    <div class="mini-card knowledge-count mb-4">
                        <div class="mini-card-icon"><i class="fas fa-database"></i></div>
                        <div class="mini-card-info">
                            <small>Total Knowledge Entries</small>
                            <strong id="total-embeddings">0</strong>
                        </div>
                    </div>

                    <div class="grid-layout">
                        <div class="tx-card">
                            <div class="tx-card-header">
                                <i class="fas fa-plus"></i> Manual Add
                            </div>
                            <div class="tx-card-body">
                                <form id="knowledge-form">
                                    <div class="form-group">
                                        <label>Tiêu đề</label>
                                        <input type="text" id="title" placeholder="Nhập tiêu đề..." required>
                                    </div>
                                    <div class="form-group">
                                        <label>Nội dung tri thức</label>
                                        <textarea id="content" placeholder="Nội dung sẽ được embedding vào Vector DB..."
                                            rows="4" required></textarea>
                                    </div>
                                    <button type="submit" class="btn-tx-primary w-100">
                                        <i class="fas fa-save"></i> Save & Embedding
                                    </button>
                                </form>
                            </div>
                        </div>

                        <div class="tx-card">
                            <div class="tx-card-header">
                                <i class="fas fa-file-upload"></i> Bulk Upload
                            </div>
                            <div class="tx-card-body">
                                <div class="upload-dropzone" id="upload-zone">
                                    <input type="file" id="file-input" accept=".txt,.md" hidden>
                                    <div class="dropzone-inner" onclick="document.getElementById('file-input').click()">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <h5>Click to upload documents</h5>
                                        <p>Supports .txt, .md files only</p>
                                        <span id="file-name" class="badge">No file selected</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Knowledge List -->
                    <div class="tx-card mt-4">
                        <div class="tx-card-header d-flex-between">
                            <span><i class="fas fa-list"></i> Knowledge Database</span>
                            <button id="refresh-btn" class="btn-tx-outline btn-sm"><i class="fas fa-sync"></i>
                                Refresh</button>
                        </div>
                        <div class="knowledge-table-container">
                            <div id="knowledge-list" class="knowledge-table">
                                <!-- Items rendered via JS -->
                                <div class="p-4 text-center text-muted">Loading tri thức...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Conversations -->
                <div id="tab-conversations" class="tab-content">
                    <div class="tx-card">
                        <div class="tx-card-header d-flex-between">
                            <span><i class="fas fa-history"></i> Lịch sử trò chuyện</span>
                            <div class="header-actions">
                                <button id="sync-discord-btn" class="btn-tx-primary btn-sm"><i
                                        class="fas fa-sync-alt"></i> Đồng bộ từ Discord</button>
                                <button id="refresh-conv-btn" class="btn-tx-outline btn-sm"><i class="fas fa-sync"></i>
                                    Làm mới</button>
                            </div>
                        </div>
                        <div class="conversations-container">
                            <div id="conversation-list" class="conversation-list">
                                <div class="p-4 text-center text-muted">Đang tải cuộc hội thoại...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tab: Settings -->
                <div id="tab-settings" class="tab-content">
                    <div class="tx-card">
                        <div class="tx-card-header"><i class="fas fa-cog"></i> Bot Settings</div>
                        <div class="tx-card-body">
                            <p class="text-muted">Tính năng cấu hình đang được phát triển...</p>
                        </div>
                    </div>
                </div>

                <!-- Tab: Logs -->
                <div id="tab-logs" class="tab-content">
                    <div class="tx-card">
                        <div class="tx-card-header"><i class="fas fa-terminal"></i> System Logs</div>
                        <div class="tx-card-body"
                            style="background: #000; font-family: monospace; color: #0f0; padding: 1rem; border-radius: 4px; min-height: 200px;">
                            <div>[SYSTEM] Alice Dashboard initialized.</div>
                            <div>[SYSTEM] Connected to Qdrant Cloud.</div>
                            <div>[AI] Gemini 1.5 Pro ready.</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>

</html>